#:set screens ['Sequence', 'Time Settings', 'Timer', 'Imagery']
#:set btnpressed_img 'images/3_rating_good.png'


GridLayout:
    rows: 2
    cols: 1
    # -------------------------------------------Action Bar
    ActionBar:
        id: action_bar
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                #app_icon: 'images/ic_launcher3.png'
                title: 'Mentor'
                with_previous: False
            ActionButton:
                text: screens[page_layout.page]
            ActionGroup:
                mode: 'spinner'
                text: 'pages'
                ActionButton:
                    text: screens[0]
                    on_press: page_layout.page = 0
                ActionButton:
                    text: screens[1]
                    on_press: page_layout.page = 1
                ActionButton:
                    text: screens[2]
                    on_press: page_layout.page = 2
                ActionButton:
                    text: screens[3]
                    on_press: page_layout.page = 3
    PageLayout:
        id: page_layout
        border: page_layout.width/10.0
        swipe_threshold: .3
        page: 1
    # ------------------------------------ sequenceselector
        GridLayout:
            id: grid_main
            padding: [grid_main.width/9.0,10.0,.0,10.0]
            spacing: grid_main.width/50.0
            #size_hint_y: None  # 5
            #size_hint: (None, None)
            #rows:4
            cols:2
            #spacing: 2
            #row_force_default: 50
    # ------------------------------------------------ HOME
        FloatLayout:
            id: 'home'
            canvas:
                Color:
                    rgba: (0, 0, 0, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                size_hint: 1.0, .1
                pos_hint: {'x': .0, 'y': .9}
                font_size: '30dp'
                text: 'Settings'
            Spinner:
                id: 'type'
                text: "AMRAP"
                values: 'AMRAP', 'RFT (w CAP Time)', 'EMOM'
                pos_hint: {'x': .11, 'y': .0}
                size_hint: .2, .1
            TextInput:
                id: minutes
                text: '30'
                font_size: '80dp'
                background_color: (0,0,0,1)
                foreground_color: (1.0,1.0,1.0,1.0)
                font_color: (0,0,0,0)
                input_filter: 'int'
                pos_hint: {'x': .2, 'y': .7}
                size_hint: .3, .2
            Label:
                size_hint: .1, .1
                pos_hint: {'x': .45, 'y': .8}
                font_size: '30dp'
                text: '\''
            TextInput:
                id: 'seconds'
                text: '00'
                font_size: '80dp'
                background_color: (0,0,0,1)
                foreground_color: (1.0,1.0,1.0,1.0)
                font_color: (0,0,0,0)
                input_filter: 'int'
                pos_hint: {'x': .6, 'y': .7}
                size_hint: .3, .2
            Label:
                size_hint: .1, .1
                pos_hint: {'x': .85, 'y': .8}
                font_size: '30dp'
                text: '\'\''
            TextInput:
                id: 'exercises'
                text: '05'
                font_size: '80dp'
                background_color: (0,0,0,1)
                foreground_color: (1.0,1.0,1.0,1.0)
                font_color: (0,0,0,0)
                input_filter: 'int'
                pos_hint: {'x': .2, 'y': .5}
                size_hint: .3, .2
            Label:
                size_hint: .1, .1
                pos_hint: {'x': .3, 'y': .45}
                font_size: '30sp'
                text: 'ex.'
            TextInput:
                id: 'times'
                text: '01'
                font_size: '80sp'
                background_color: (0,0,0,1)
                foreground_color: (1.0,1.0,1.0,1.0)
                font_color: (0,0,0,0)
                input_filter: 'int'
                pos_hint: {'x': .6, 'y': .5}
                size_hint: .3, .2
            Label:
                size_hint: .1, .1
                pos_hint: {'x': .6, 'y': .45}
                font_size: '30dp'
                text: 'reps'
            Label:
                size_hint: 1.0, .1
                pos_hint: {'x': .0, 'y': .9}
                font_size: '30dp'
                text: 'Settings'
            Button:
                id: start
                text: "Start"
                group: 'Commands'
                font_size: '40dp'
                background_color: (0.1,0.1,0.1,1)
                #foreground_color: (1.0,1.0,1.0,1.0)
                pos_hint: {'x': .35, 'y': .0}
                size_hint: .3, .2
                on_press:
                    page_layout.page = 2
            Button:
                id: stop
                text: "Stop"
                group: 'Commands'
                font_size: '40dp'
                background_color: (0.1,0.1,0.1,1)
                #foreground_color: (1.0,1.0,1.0,1.0)
                pos_hint: {'x': .65, 'y': .0}
                size_hint: .3, .2
        # ------------------------------------------- TIMER
        FloatLayout:
            canvas:
                Color:
                    rgba: (0, 0, 0, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                size_hint: 1.0, .1
                pos_hint: {'x': .0, 'y': .9}
                font_size: '30dp'
                text: 'Second Layout'
        # ------------------------------------------ PHOTOS
        GridLayout:
            id: photos
            padding: [.0,.0,photos.width/9.0,0.0]
            canvas:
                Color:
                    rgba: (0, 0, 0, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            rows: 4
            cols: 1
            GridLayout:
                rows: 1
                cols: 1
                size_hint_y: 5
                Image:
                #AsyncImage:
                    id: img_bk
                    source: "images/bk_nw.png"
            GridLayout:
                rows: 1
                cols: 1
                size_hint_y: 2
                Label:
                    #size_hint_x: 4
                    id: log
                    text: 'Mentor Text'
            GridLayout:
                rows:1
                cols:8
                Label:
                    size_hint_x: 1
                Button:
                    id: btn_rewind
                    background_normal: 'images/9_av_rewind.png'
                    background_down: btnpressed_img
                    border: (0,0,0,0)
                    on_press: app.osc_push_message('rewind', '/cmd')
                Button:
                    id: btn_play
                    background_normal: 'images/9_av_play.png'
                    background_down: btnpressed_img
                    border: (0,0,0,0)
                    on_press: app.osc_push_message('play', '/cmd')
                Button:
                    id: btn_pause
                    background_normal: 'images/9_av_pause.png'
                    background_down: btnpressed_img
                    border: (0,0,0,0)
                    on_press: app.osc_push_message('pause', '/cmd')
                Button:
                    id: btn_stop
                    background_normal: 'images/9_av_stop.png'
                    background_down: btnpressed_img
                    border: (0,0,0,0)
                    on_press: app.osc_push_message('stop', '/cmd')
                Button:
                    id: btn_fforward
                    background_normal: 'images/9_av_fast_forward.png'
                    background_down: btnpressed_img
                    border: (0,0,0,0)
                    on_press: app.osc_push_message('forward', '/cmd')
                Label:
                    size_hint_x: 2
                Button:
                    id: btnMusic
                    background_normal: 'images/12_hardware_headphones.png'
                    background_down: btnpressed_img
                    on_press:
            GridLayout:
                rows:1
                cols:4
                Label:
                    text: 'Left'
                Label:
                    id: partial_left
                    text: '00.00'
                Label:
                    text: 'Tot Left'
                Label:
                    id: total_left
                    text: '00.00'